Music format: MusicXML 4.0. If writing music, make sure the file is renderable. Do not put unnecessary brackets or delimiters such as ``` at the beginning or end.

CRITICAL for second species (2vs1) - ADAPTIVE RULE:

Measure Structure Rule:
- Measures 1 to (N-1): TWO half notes per measure
  * Each half note: <type>half</type> with <duration>2</duration>
  * Total duration per measure: 4 (two half notes = one whole note equivalent)
- Measure N (FINAL): ONE whole note
  * <type>whole</type> with <duration>4</duration>
  * This is the cadence closing

Adapted counts for different cantus firmus files:
| Cantus Firmus | Total Bars | Half Notes | Whole Note | Total Notes |
|---------------|-----------|-----------|-----------|-------------|
| A, C, D, E, F, G | 12 | 22 (bars 1-11) | 1 (bar 12) | 23 |
| (Other sizes) | N | 2×(N-1) | 1 (bar N) | 2N-1 |

MANDATORY CONSTRAINTS:
1. NO RESTS, NO SILENCES - every measure must contain only note elements
2. Each measure duration must equal 4 (same as cantus firmus whole note)
3. Counterpoint voice: 2 half notes OR 1 whole note per measure
4. Cantus firmus voice: 1 whole note per measure (always)

STAFF POSITIONING:
- If cantus position is "above": 
  * STAFF 1 (top line): Cantus Firmus (whole notes)
  * STAFF 2 (bottom line): Counterpoint (half notes, except whole note on final bar)
- If cantus position is "below":
  * STAFF 1 (top line): Counterpoint (half notes, except whole note on final bar)
  * STAFF 2 (bottom line): Cantus Firmus (whole notes)

DIVISIONS SETTING:
- Use divisions=2 for proper half note representation
- Half note duration value: 2
- Whole note duration value: 4

---

CRITICAL for third species (4vs1) - ADAPTIVE RULE:

Measure Structure Rule:
- Measures 1 to (N-1): FOUR quarter notes per measure
  * Each quarter note: <type>quarter</type> with <duration>1</duration>
  * Total duration per measure: 4 (four quarter notes = one whole note equivalent)
- Measure N (FINAL): ONE whole note
  * <type>whole</type> with <duration>4</duration>
  * This is the cadence closing

Adapted counts for different cantus firmus files:
| Cantus Firmus | Total Bars | Quarter Notes | Whole Note | Total Notes |
|---------------|-----------|---------------|-----------|-------------|
| A, C, D, E, F, G | 12 | 44 (bars 1-11) | 1 (bar 12) | 45 |
| (Other sizes) | N | 4×(N-1) | 1 (bar N) | 4N-3 |

MANDATORY CONSTRAINTS:
1. NO RESTS, NO SILENCES - every measure must contain only note elements
2. Each measure duration must equal 4 (same as cantus firmus whole note)
3. Counterpoint voice: 4 quarter notes OR 1 whole note per measure
4. Cantus firmus voice: 1 whole note per measure (always)

STAFF POSITIONING:
- If cantus position is "above": 
  * STAFF 1 (top line): Cantus Firmus (whole notes)
  * STAFF 2 (bottom line): Counterpoint (quarter notes, except whole note on final bar)
- If cantus position is "below":
  * STAFF 1 (top line): Counterpoint (quarter notes, except whole note on final bar)
  * STAFF 2 (bottom line): Cantus Firmus (whole notes)

DIVISIONS SETTING for 4vs1:
- Use divisions=4 for proper quarter note representation
- Quarter note duration value: 1
- Whole note duration value: 4
